#!/usr/bin/env python

import sys
import argparse

from hitagifs import commands
from hitagifs.fs import HitagiFS

parser = argparse.ArgumentParser(prog="hfs", desc="hitagiFS CLI tool")
parser.add_argument('command', choices=commands.__all__)
parser.add_argument('args', nargs='*')
parser.add_argument('--root')

if args.command in ('mount'):
    getattr(commands, args.command)(*args.args)
else:
    fs = HitagiFS(getattr(args, 'root', None))
    getattr(commands, args.command)(fs, *args.args)
